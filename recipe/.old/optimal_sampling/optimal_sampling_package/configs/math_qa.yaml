# Configuration for Math QA with Optimal Sampling

# Model settings - optimized for mathematical reasoning
teacher_model: "Qwen/Qwen2.5-32B-Instruct"
theta_model: "Qwen/Qwen2.5-14B-Instruct"

# Alpha computation
alpha_method: "kl_symmetry"
alpha_min: 0.5
alpha_max: 0.9

# System prompts optimized for math
teacher_system_prompt: |
  You are an expert mathematics tutor. When given a math problem,
  provide clear, rigorous, step-by-step solutions.
  Always explain your reasoning and show all work.

theta_system_prompt: |
  You are a mathematics problem solver. Solve problems systematically:
  1. Understand the problem
  2. Identify the approach
  3. Execute the solution
  4. Verify the answer

# Use chat template for structured interaction
enable_chat_template: true

# Performance settings
gpu_memory_utilization: 0.5
enable_prefix_caching: true

# Generation settings for math
max_tokens: 1024
temperature: 0.7  # Lower for more precise math
top_p: 0.9
top_k: -1

# Track alpha for analysis
track_alpha_stats: true

# Math-specific settings
math_qa:
  # Problem types
  problem_types:
    - "algebra"
    - "geometry"
    - "calculus"
    - "probability"
    - "number_theory"

  # Format settings
  latex_enabled: true
  step_markers: ["Step 1:", "Step 2:", "Step 3:"]

  # Quality control
  require_final_answer: true
  verify_arithmetic: false  # Set true if verification is available
  allow_approximation: false

  # Sampling strategy
  beam_search: false
  num_beams: 1
  early_stopping: false
