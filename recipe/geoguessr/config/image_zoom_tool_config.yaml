# GeoGuessr Tool Configuration
# This file defines the tools available during training

tools:
  # Image Zoom-In Tool
  # Allows the model to zoom in on specific regions of the image to see details
  - class_name: "verl.tools.image_zoom_in_tool.ImageZoomInTool"
    config:
      # Number of concurrent worker threads
      num_workers: 256

      # Rate limit: maximum concurrent tool executions
      rate_limit: 256

      # Timeout for tool execution (seconds)
      timeout: 60

      # Tool type (native means it's a built-in tool)
      type: native

      # Enable global rate limiting across all workers
      enable_global_rate_limit: true

    # Tool schema (defines the interface for the model)
    tool_schema:
      type: "function"
      function:
        name: "image_zoom_in_tool"

        # Description that will be shown to the model in the system prompt
        # This is critical - it tells the model when and how to use the tool
        description: >
          Zoom in on a specific region of the image to see fine details like
          road signs, building features, architectural details, license plates,
          street names, or vegetation patterns that might help identify the
          geographic location. Use this when you need to examine specific
          elements more closely before making your location prediction.

        # Parameter definitions
        parameters:
          type: "object"
          properties:
            bbox_2d:
              type: "array"
              items:
                type: "number"
              minItems: 4
              maxItems: 4
              description: >
                The bounding box [x1, y1, x2, y2] of the region to zoom in,
                where (x1, y1) is the top-left corner and (x2, y2) is the
                bottom-right corner in pixel coordinates.
            label:
              type: "string"
              description: >
                Optional descriptive label of what you want to zoom in on
                (e.g., 'road sign', 'building facade', 'license plate',
                'street name sign'). This helps track what you're examining.
          required:
            - bbox_2d
